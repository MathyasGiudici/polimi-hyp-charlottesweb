<!-- my-page.html -->
<script src="https://rawcdn.githack.com/oscarmorrison/md-page/master/md-page.js"></script><noscript>

# Documentation of the Backend part

## General group information

| Member n. | Role          | First name    | Last Name   | Matricola | Email address                   |
| --------- | ------------- | ----------    | ---------   | --------- | ---------------                 |
| 1         | administrator | Mathyas       | Giudici     | 919871    | mathyas.giudici@mail.polimi.it  |
| 2         | member        | Chiara        | Criscuolo   | 928714    | chiara.criscuolo@mail.polimi.it |
| 3         | member        | Silvia        | Franzini    | 920268    | silvia1.franzini@mail.polimi.it |


## Links to other deliverables

- Deliverable D0: the web application is accessible at
[this address](https://polimi-hyp-charlottesweb.herokuapp.com).
- Deliverable D2: the YAML or JSON file containing the specification of the app
API can be found at [this address](./spec.yaml).
- Deliverable D3: the SwaggerUI page of the same API is available at
[this address](https://polimi-hyp-charlottesweb.herokuapp.com/backend/swaggerui).
- Deliverable D4: the source code of D0 is available as a zip file at
[this address](./app.zip).
- Deliverable D5: the address of the online source control repository is
available [this address](https://github.com/MathyasGiudici/polimi-hyp-charlottesweb). We hereby declare that this
is a private repository and, upon request, we will give access to the
instructors.

## Specification

### Web Architecture

![Web Architecture Image](./webarchi.png)
The Web Architecture model follows the model presented in the lectures of the backend part.

The HTML is not rendered server side because we don't use any Javascript frameworks (like express) to send to the user the pages of our books' store.
All our pages are written in pure HTLM and CSS and available in the */public folder*, *npm serve-static* allows us to see the pages and folders in */public* as endpoints where HTML is sent to the user.

### API

#### REST compliance

In order to build an API description format for REST APIs we used an [OpenAPI Specification](https://swagger.io/docs/specification/about/) (formerly Swagger Specification) and particularly useful was the [Pet Store](https://petstore.swagger.io/) example.

In our REST APIs not all the HTTP Status Codes are described, only the relevant ones are putted in.
Moreover, in the *books* endpoints */books/bestSelling* and */books/ourFavorite* are alone and not in *​/books​/findBy* in order to have an easilly access point to particular books that are used in the Homepage of our site and not directly correlated to the concept of a filter, that is for *​/books​/findBy*.

#### OpenAPI Resource models

The Resources introduced in our model are related to the relevant data models. They are:
  - Books
  - Authors
  - Users
  - Reviews
  - Events

For each resource the standard GET method (in */api/{resource}*), the GET method for a specific object of the resource (in */api/{resource}/id*) and a GET method */api/{resource}/findBy* that receives two parameters: attribute and key, it looks for resources that have the attribute's value equal to the key in our database.

### Data model
In our OpenAPI data model we have:
  - Book
  - Review
  - Amount
  - User
  - Cart
  - Author
  - Event
  - ApiResponse

In our Data Layer Model:
  | OpenAPI Model   | *mapped in* Data Layer Mapping *as* |
  | --------------- | ------------------- |
  | Book            | Table   |
  | Review          | Table   |
  | Amount          | Attributes in Book's Table |
  | User            | Table   |
  | Cart            | Table   |
  | Author            | Table   |
  | Event            | Table   |
  | ApiResponse            | No mapping (\*)  |

\*: No mapping because the ApiResponse is a simple object *{ response : string }* and it is created dynamically when needed.

<!-- ## Implementation
### Tools used
Describe here which tools, languages and frameworks did you use for the backend
of the application.
### Discussion
Describe here:
- How did you make sure your web application adheres to the provided OpenAPI
specification?
- Why do you think your web application adheres to common practices to partition
the web application (static assets vs. application data)
- Describe synthetically why and how did you manage session state, what are the
state change triggering actions (e.g., POST to login etc..).
- Which technology did you use (relational or a no-SQL database) for managing
the data model?
## Other information
### Task assignment
Describe here how development tasks have been subdivided among members of the
group, e.g.:
- Foo worked on front end (80%) and OpenAPI Spec (20% of the time)
- Bar worked on ....
### Analysis of existing API
Describe here if you have found relevant APIs that have inspired the OpenAPI
specification and why (at least two).
### Learning outcome
What was the most important thing all the members have learned while developing
this part of the project, what questions remained unanswered, how you will use
what you've learned in your everyday life?
Examples:
- Foo learned to write SQL queries and Javascript but wanted to know more about
caching, he's probably going to create his own startup with what she has
learned
- Bar learned how to deploy on a cloud platform, he would have liked to know
more about promises for asynchronous code.. -->
